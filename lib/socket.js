"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApiSocket=exports.instanceOfAction=exports.isDefaultAction=exports.defaultActions=void 0;const errors_1=require("./errors");exports.defaultActions={CONNECT:"$connect",DISCONNECT:"$disconnect",DEFAULT:"$default"};const isDefaultAction=t=>t!==exports.defaultActions.CONNECT&&t!==exports.defaultActions.DISCONNECT;exports.isDefaultAction=isDefaultAction;const instanceOfAction=t=>"name"in t;exports.instanceOfAction=instanceOfAction;class ApiSocket{constructor(){this._actions=[],this._middlewares=[]}use(t){if("function"!=typeof t)throw new errors_1.MiddlewareError;return this._middlewares.push(t),this}connect(t){return this.addAction(exports.defaultActions.CONNECT,t),this}disconnect(t){return this.addAction(exports.defaultActions.DISCONNECT,t),this}action(t,e){return this.addAction(t,e),this}actions(){return this._actions}middlewares(){return this._middlewares}addAction(t,e){this._actions.push({name:t,handler:e})}}exports.ApiSocket=ApiSocket;